(this["webpackJsonp@datnq/unidata-example"]=this["webpackJsonp@datnq/unidata-example"]||[]).push([[0],{11:function(e,t,r){e.exports=r(21)},20:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(4),c=r.n(o),u=r(1),l=r.n(u);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=function(e){return"function"===typeof e?e:function(t){return Object.keys(e).every((function(r){return void 0!==t[r]&&e[r]===t[r]}))}},h=Object(n.createContext)(null),j={},E=function(e){var t=e.initialData,r=e.children,o=b(Object(n.useState)(),2)[1];Object(n.useEffect)((function(){l.a.isEqual(j,t)||o(p({},t))}),[t]);var c=Object(n.useCallback)((function(e){var t=p({},e,{},j);l.a.isEqual(Object.keys(t),Object.keys(j))||(j=p({},e,{},j),o(p({},j)))}),[j]),u=function(e,t){j[e]=Array.isArray(t)?m(t):t,o(p({},j))},f={put:u,add:function(e,t){var r=j[e];Array.isArray(r)?u(e,[].concat(m(r),[t])):u(e,t)},remove:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t&&!r)throw new Error("Filter is required for remove data. Unless you pass force = true");var n=j[e];if(!Array.isArray(n)||r)delete n[e],u(e,n);else{var a=O(t);u(e,n.filter((function(e,t){return!a(e,t)})))}},update:function(e,t,r){if(!t)throw new Error("Filter is required for update data");var n=j[e];if(Array.isArray(n)&&"object"===i(r)){var a=O(t);u(e,n.map((function(e,t){return a(e,t)?(o=r,"object"===i(n=e)?p({},n,{},o):o):e;var n,o})))}else u(e,r)}};return a.a.createElement(h.Provider,{value:{data:j,dataSetter:f,initData:c}},r)},g=function(e){return function(t){return function(r){var o=b(function(e){var t=Object(n.useContext)(h),r=t.dataSetter,a=t.data,o=t.initData,c=!1,u=l.a.mapValues(e,(function(e,t){return void 0!==a[t]||a[t]===e?a[t]:(c=!0,e)}));return Object(n.useEffect)((function(){c&&o(p({},a,{},u))}),[c]),[u,r]}(e),2),c=o[0],u=o[1],i=p({},r),f=JSON.stringify(c),d=function(){return a.a.createElement(t,s({data:c,dataSetter:u},i))};return a.a.useMemo((function(){return a.a.createElement(d,{deps:f})}),[f])}}},S=g({todos:[]})((function(e){var t=e.data;return a.a.createElement("span",null,"Completed: ",t.todos.filter((function(e){return e.completed})).length,"/",t.todos.length)})),w=r(2),A=r(6),k=r(7),C=r(10),x=r(8),D=r(3),P=function(e){Object(C.a)(r,e);var t=Object(x.a)(r);function r(){return Object(A.a)(this,r),t.apply(this,arguments)}return Object(k.a)(r,[{key:"extractFromEvent",value:function(e){var t=e.target,r=t.value,n=t.checked;this.setValue(n?r:null)}}]),r}(w.a),q=function(){return{content:{label:"Todo Content",validators:[{test:Object(D.b)(),errorMessage:"%(label)s is required"},{test:Object(D.a)(6),errorMessage:"%(label)s must be longer than 6 characters"}]},completed:{label:"Completed",type:P}}},I=g({todos:[]})((function(e){var t=e.dataSetter,r=Object(n.useRef)(null),o=Object(w.b)(q),c=o.content,u=o.completed,l=function(e){o.extractFromEvent(e)};return a.a.createElement("div",null,a.a.createElement("input",{type:"text",ref:r,onChange:l,name:c.name,value:c.value}),a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:u.name,checked:"completed"===u.value,value:"completed",onChange:l})," ","Completed"),a.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),o.isValid&&(t.add("todos",o.data),o.clearData())}},"Add todo"),a.a.createElement("br",null),c.isValid?null:a.a.createElement("p",null,c.error.message))})),F=r(9),M=g({todos:[]})((function(e){var t=e.data,r=e.dataSetter,n=t.todos,o=function(e){var t=e.target,a=t.checked,o=t.value,c=parseInt(o,10),u=n[c];n[c]=Object(F.a)({},u,{completed:a}),r.put(n)};return a.a.createElement("ol",null,n.map((function(e,t){return a.a.createElement("li",{key:e.content},a.a.createElement("input",{type:"checkbox",checked:e.completed,value:t,onChange:o}),e.completed?a.a.createElement("s",null,e.content):e.content)})))}));r(20);var V,J=(V={},function(e){return function(t){var r=b(Object(n.useState)(V||{}),2),o=r[0],c=r[1];return a.a.createElement(E,{initialData:o,setData:c},a.a.createElement(e,t))}})((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(I,null),a.a.createElement("hr",null),a.a.createElement(S,null),a.a.createElement(M,null))}));c.a.render(a.a.createElement(J,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.45066b81.chunk.js.map