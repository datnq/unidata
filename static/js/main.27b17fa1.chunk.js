(this["webpackJsonp@datnq/unidata-example"]=this["webpackJsonp@datnq/unidata-example"]||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(55),r=a.n(c),o=a(36),s=a(4),i=a(34),d=a.n(i),u=a(56),m=a.n(u),p=a(57),b=a.n(p),h=a(58),g=a.n(h);const E=e=>d()(e,()=>m.a.generate()),v=(e,t)=>"".concat(e).concat(t.displayName||t.name||"Component"),f=e=>({data:e,state:E(e)}),j=(e,t)=>((e,t)=>({data:Object(s.a)(Object(s.a)({},e.data),t),state:Object(s.a)(Object(s.a)({},e.state),E(t))}))(e,t(e.data)),O=Object(n.createContext)({store:{data:{},state:{}},dispatch:()=>{}});O.displayName="UnidataContext";const y=({initialData:e,children:t})=>{const a=Object(n.useReducer)(j,e,f),c=Object(o.a)(a,2),r=c[0],s=c[1];return l.a.createElement(O.Provider,{value:{store:r,dispatch:s}},t)},k=e=>t=>{const a=a=>{const c=((e={})=>{const t=Object(n.useContext)(O),a=t.dispatch,l=t.store,c=l.data,r=l.state,o={},s=d()(e,(e,t)=>void 0!==c[t]||c[t]===e?c[t]:(o[t]=e,e)),i=Object.keys(o).length>0,u=g()(b()(r,Object.keys(e))).join("-");return Object(n.useEffect)(()=>{i&&a(()=>o)},[i,a,o]),[s,a,u]})(e||{}),r=Object(o.a)(c,3),i=r[0],u=r[1],m=r[2],p=Object(s.a)({},a),h=()=>l.a.createElement(t,Object.assign({data:i,dispatch:u},p));return h.displayName=v("UnidataSubscribed",t),l.a.useMemo(()=>l.a.createElement(h,{state:m}),[m])};return a.displayName=v("UnidataMemoized",t),a};var C=a(19),x=a(20),w=a(23),R=a(22),q=a(59),D=a.n(q);const M=e=>t=>e(({logs:e=[]})=>({logs:[...e,{content:t,id:D.a.generate()}]}));var F=k({logs:[]})(({data:e})=>{const t=e.logs,a=void 0===t?[]:t;return a&&l.a.createElement("ol",null,a.map(e=>l.a.createElement("li",{key:e.id},e.content)))}),I=function(e){Object(w.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).log=M(n.props.dispatch),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.log&&this.log("Rendering Todo Counter")}},{key:"render",value:function(){var e=this.props.data;return l.a.createElement("span",null,"Completed: ",e.todos.filter((function(e){return e.completed})).length,"/",e.todos.length)}}]),a}(l.a.PureComponent),N=k({todos:[]})(I),T=a(21),U=a(35),V=function(e){Object(w.a)(a,e);var t=Object(R.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"extractFromEvent",value:function(e){var t=e.target,a=t.value,n=t.checked;this.setValue(n?a:null)}}]),a}(T.a),_=function(){return{content:{label:"Todo Content",validators:[{test:Object(U.required)(),errorMessage:"%(label)s is required"},{test:Object(U.minlen)(6),errorMessage:"%(label)s must be longer than 6 characters"}]},completed:{label:"Completed",type:V}}};var z=k()(({dispatch:e})=>{const t=M(e),a=Object(T.b)(_),c=a.content,r=a.completed,o=e=>{a.extractFromEvent(e)};return Object(n.useEffect)(()=>{t("Rendering Add Todo")}),l.a.createElement("div",null,l.a.createElement("input",{type:"text",onChange:o,name:c.name,value:c.value}),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:r.name,checked:"completed"===r.value,value:"completed",onChange:o})," ","Completed"),l.a.createElement("button",{type:"button",onClick:t=>{if(t.preventDefault(),!a.isValid)return;const n=a.data;e(({todos:e})=>({todos:[...e,n]})),a.clearData()}},"Add todo"),l.a.createElement("br",null),c.isValid?null:l.a.createElement("p",null,c.error.message))});var A=k({todos:[]})(({data:e,dispatch:t})=>{const a=e.todos,c=M(t),r=e=>{const a=e.target,n=a.checked,l=a.value;t(({todos:e})=>(e[parseInt(l,10)].completed=n,{todos:e}))};return Object(n.useEffect)(()=>{c("Rendering Todo list")}),l.a.createElement("ol",null,a.map((e,t)=>l.a.createElement("li",{key:e.content},l.a.createElement("input",{type:"checkbox",checked:e.completed,value:t,onChange:r}),e.completed?l.a.createElement("s",null,e.content):e.content)))}),G=k({counter:0})(({data:e,dispatch:t})=>{const a=M(t),c=Object(n.useCallback)(()=>{t(({counter:e})=>({counter:e+1}))},[t]);return Object(n.useEffect)(()=>{a("Rendering Unrelated counter")}),l.a.createElement("p",null,l.a.createElement("button",{type:"button",onClick:c},"+ Increase")," "+e.counter)});function J(){var e={padding:"20px",flexGrow:1,width:"50%",position:"relative"};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",height:"100vh",alignItems:"stretch"}},l.a.createElement("div",{style:e},l.a.createElement("a",{href:"https://github.com/datnq/unidata",style:{position:"absolute",right:0,top:0}},l.a.createElement("img",{width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149",alt:"Fork me on GitHub","data-recalc-dims":"1"})),l.a.createElement(z,null),l.a.createElement("hr",null),l.a.createElement(N,null),l.a.createElement(G,null),l.a.createElement(A,null)),l.a.createElement("div",{style:Object(s.a)({},e,{color:"#fff",backgroundColor:"#333",overflowY:"scroll",boxShadow:"inset 0 0 20px rgba(0,0,0,.4)"})},l.a.createElement("h2",null,"Rendering logger"),l.a.createElement(F,null))))}a(176);r.a.render(l.a.createElement(y,{initialData:{}},l.a.createElement(J,null)),document.getElementById("root"))},60:function(e,t,a){e.exports=a(177)}},[[60,1,2]]]);
//# sourceMappingURL=main.27b17fa1.chunk.js.map